JWT_JWK_SET_URI: http://api-gateway:8080/authn/jwks/publicKey

spring:
  cloud:
    consul:
      discovery:
        healthCheckUrl: http://authp-service:${server.port}/actuator/health
        ip-address: ${SERVICE_IP:${spring.cloud.client.ip-address}}

  security:
    oauth2:
      resourceserver:
        jwt:
          jwk-set-uri: ${JWT_JWK_SET_URI:http://api-gateway:8080/authn/jwks/publicKey}

  datasource: # 數據源配置
    url: jdbc:mysql://${MYSQL_HOST:mysql}:${MYSQL_PORT:3306}/vitalcasebridge # MySQL 地址
    username: ${MYSQL_USERNAME:} # 數據庫用戶名，動態化設置
    password: ${MYSQL_PASSWORD:} # 數據庫密碼，建議通過環境變數配置
    driver-class-name: com.mysql.cj.jdbc.Driver # MySQL 驅動類

  jpa: # JPA 和 Hibernate 配置
    properties:
      hibernate:
        show_sql: true # ✅ 顯示執行的 SQL（建議開發環境開啟）
        format_sql: true # ✅ 將 SQL 格式化為易讀格式（僅限開發環境）
        dialect: org.hibernate.dialect.MySQLDialect # ⚠️ 指定 Hibernate 使用 MySQL Dialect
    hibernate:
      ddl-auto: validate # 生產環境建議使用 none
    open-in-view: false # 禁用 Open Session In View，以提升性能

bizform:
  service:
    url: ${BIZFORM_API_BASE_URL:https://bizform.vikosmos.com}

# 指定使用 log4j2-logstash.xml 作為 logging 設定檔，啟用 Logstash 輸出
logging:
  config: classpath:log4j2-logstash.xml

springdoc:
  swagger-ui:
    enabled: false       # 關閉 Swagger UI 頁面（/swagger-ui.html），避免在生產環境暴露 API 文件
  api-docs:
    path: /v3/authp-docs  # 根據每個微服務設計自己的前綴