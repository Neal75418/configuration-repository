server:
  port: 8084

spring:
  cloud:
    consul:
      discovery:
        prefer-ip-address: true # ğŸŒ å„ªå…ˆä½¿ç”¨ IP è¨»å†Šèˆ‡å¥åº·æª¢æŸ¥
        health-check-path: /actuator/health # â¤ï¸ å¥åº·æª¢æŸ¥ç«¯é»è·¯å¾‘
        ip-address: ${SERVICE_IP:${spring.cloud.client.ip-address}} # ğŸ§­ æœå‹™ IPï¼Œå„ªå…ˆç”¨ç’°å¢ƒè®Šæ•¸è¦†å¯«
        service-name: ${spring.application.name}  # ğŸ·ï¸ æœå‹™åç¨±ï¼ˆè¨»å†Šåˆ° Consulï¼‰
        instance-id: ${spring.application.name}-${server.port}  # ğŸ”¢ å¯¦ä¾‹ IDï¼Œé¿å…åŸ è™Ÿè¡çª

  cache:
    caffeine:
      spec: initialCapacity=100,maximumSize=500,expireAfterWrite=10m # Cache åˆå§‹å®¹é‡ã€æœ€å¤§å®¹é‡èˆ‡éæœŸæ™‚é–“é…ç½®

jwt:
  jwk-set-uri: ${JWT_JWK_SET_URI:http://api-gateway:8080/authn/jwks/publicKey}  # ğŸ” å…¬é‘°é›† JWK Set URIï¼ˆé©—ç°½ç”¨ï¼‰
  issuer: ${JWT_ISSUER:http://api-gateway:8080/authn}                           # ğŸ·ï¸ JWT ç°½ç™¼è€…ï¼ˆissï¼‰ï¼Œéœ€èˆ‡ Token å…§å®Œå…¨ä¸€è‡´
  clock-skew-seconds: 60                                                        # â±ï¸ å®¹è¨±çš„æ™‚é˜èª¤å·®ï¼ˆç§’ï¼‰
  accepted-audiences: ${JWT_ACCEPTED_AUDIENCES:api-gateway}                     # ğŸ¯ å¯æ¥å—çš„å—çœ¾ï¼ˆaudï¼‰

app:
  security:
    public-paths:
      - "/actuator/health"
      - "/actuator/prometheus"

      # ---------- ğŸ“„ Swagger / OpenAPI ----------
      - "/swagger-ui.html"        # Swagger UI
      - "/swagger-ui/**"          # Swagger éœæ…‹è³‡æº
      - "/v3/blacklist-docs"      # Blacklist è‡ªè¨‚ docs å…¥å£